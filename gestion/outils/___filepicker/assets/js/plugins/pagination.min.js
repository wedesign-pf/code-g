+function(e){var i=function(e,i,t){this.container=i,this.filePicker=e,this.currentPage=1,this.perPage=t?t:20,this.files=0,this.init()};i.prototype.init=function(){this.container.on("click","a",e.proxy(this.onClick,this));var i=this,t=0;this.filePicker.element.on("filepicker.add",function(){t++});var r=0;this.filePicker.element.on("filepicker.destroyed",function(){r++,r==i.files&&(i.load(),r=0)}),this.load()},i.prototype.onClick=function(i){return i.preventDefault(),e(i.target).parent().hasClass("disabled")?!1:(this.currentPage=parseInt(e(i.target).attr("href").replace("#","")),void this.load(this.currentPage*this.perPage-this.perPage))},i.prototype.load=function(i){this.filePicker.element.on("filepicker.load",e.proxy(this.render,this)),this.filePicker.autoLoad(this.perPage,i)},i.prototype.append=function(i,t,r){var n=e("<li>",{"class":r}).append(e("<a>",{href:"#"+i,html:t}));this.container.append(n)},i.prototype.render=function(e,i){var t=Math.ceil(i.total/this.perPage);if(this.container.children().remove(),this.files=i.files.length,t>1){this.append(this.currentPage-1,"&laquo;",1==this.currentPage?"disabled":null);for(var r=1;t>=r;r++)this.append(r,r,this.currentPage==r?"active":null);this.append(this.currentPage+1,"&raquo;",this.currentPage==t?"disabled":null)}this.filePicker.options.filesList.children().remove()},window.FilepickerPagination=function(t,r,n){return t instanceof e&&(t=t.filePicker()),new i(t,r,n)}}(jQuery);